{"version":3,"file":"298.index.js","mappings":";;;;;;;;;;;+NASO,MAAMA,EACC,aAACC,EAAoBC,GAC/B,IAAIC,EAAWF,EAAMG,wBACnBC,EAAAA,EAAAA,MAEEC,QAAcH,EAASI,WACzB,oCAEEC,EAAM,IAAIC,EAEd,aADMD,EAAIE,WAAWJ,EAAMJ,EAAOM,KAAO,+BAClCA,GAII,MAAMC,EAGnBE,eAEAC,UACE,MAAO,MAGO,iBAACN,EAAgBO,GAC/BC,KAAKC,MAAQT,EAAMS,MACnBD,KAAKE,cAAgBC,EAAAA,EAAAA,IAAWJ,GAChC,MAAMK,EAAY,IAAIC,EAAAA,gBAAsB,SAAU,UAAW,GACjED,EAAUE,MAAMC,OAAO,GAAK,EAAG,IAC/BH,EAAUI,YAAYD,OAAO,KAAO,EAAG,KACvCP,KAAKC,MAAMQ,IAAIL,GAEf,MAAMM,EAAS,IAAIL,EAAAA,eAAqB,IAAM,GAAI,IAC5CM,EAAS,IAAIN,EAAAA,kBAAwB,CACzCO,IAAKZ,KAAKE,QACVW,KAAMR,EAAAA,SACNS,YAAY,EACZC,YAAY,IAERrB,EAAM,IAAIW,EAAAA,KAAWK,EAAQC,GACnCjB,EAAIsB,QAAQX,EAAAA,UAAAA,UAA0B,KACtCL,KAAKC,MAAMQ,IAAIf","sources":["webpack://axolotis-player/./src/lib/modules/scenes/demo2/Sky2.ts"],"sourcesContent":["import * as THREE from \"three\";\nimport Component from \"@root/lib/modules/core/ecs/Component\";\nimport { loadAssets } from \"@root/lib/modules/core/loader/AssetsLoader\";\nimport { ThreeLib } from \"@root/lib/modules/three/ThreeLib\";\nimport { WebpackLazyModule } from \"@root/lib/modules/core/loader/WebpackLoader\";\nimport { ComponentFactory } from \"@root/lib/modules/core/ecs/ComponentFactory\";\nimport { WorldEntity } from \"@root/lib/modules/core/ecs/WorldEntity\";\nimport { ServiceEntity } from \"@root/lib/modules/core/service/ServiceEntity\";\n\nexport class Factory implements WebpackLazyModule, ComponentFactory<Sky> {\n  async create(world: WorldEntity, config: any): Promise<Sky> {\n    let services = world.getFirstComponentByType<ServiceEntity>(\n      ServiceEntity.name\n    );\n    let three = await services.getService<ThreeLib>(\n      \"@root/lib/modules/three/ThreeLib\"\n    );\n    let sky = new Sky();\n    await sky.initialize(three,config.sky || \"assets/static/demo2/sky.jpg\");\n    return sky;\n  }\n}\n\nexport default class Sky implements Component {\n  private scene: any;\n  private texture: any;\n  constructor() {}\n\n  getType(): string {\n    return \"Sky\";\n  }\n\n  async initialize(three: ThreeLib,skymap:string) {\n    this.scene = three.scene;\n    this.texture = await loadAssets(skymap);\n    const hemiLight = new THREE.HemisphereLight(0xffffff, 0xfffffff, 1);\n    hemiLight.color.setHSL(0.6, 1, 0.6);\n    hemiLight.groundColor.setHSL(0.095, 1, 0.75);\n    this.scene.add(hemiLight);\n\n    const skyGeo = new THREE.SphereGeometry(1000, 25, 25);\n    const skyMat = new THREE.MeshBasicMaterial({\n      map: this.texture,\n      side: THREE.BackSide,\n      depthWrite: false,\n      toneMapped: false,\n    });\n    const sky = new THREE.Mesh(skyGeo, skyMat);\n    sky.rotateY(THREE.MathUtils.degToRad(-60));\n    this.scene.add(sky);\n  }\n}\n"],"names":["Factory","world","config","services","getFirstComponentByType","ServiceEntity","three","getService","sky","Sky","initialize","constructor","getType","skymap","this","scene","texture","loadAssets","hemiLight","THREE","color","setHSL","groundColor","add","skyGeo","skyMat","map","side","depthWrite","toneMapped","rotateY"],"sourceRoot":""}