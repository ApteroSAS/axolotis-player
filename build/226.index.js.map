{"version":3,"file":"226.index.js","mappings":";;;;;;;;;;;sTAOO,MAAMA,EAGXC,cAAc,qBAyCAC,IACZC,KAAKC,QAAQF,EAAMG,MAAQ,KA1Cf,mBA6CFH,IACVC,KAAKC,QAAQF,EAAMG,MAAQ,KA7C3BF,KAAKC,QAAU,GACfD,KAAKG,OAAS,GAEdH,KAAKI,kBAAkBJ,KAAKK,YAC5BL,KAAKM,gBAAgBN,KAAKO,UAG5BC,UACE,OAAOX,EAAMY,KAGfC,iBAAiBC,EAASC,EAAMC,GAC9BF,EAAQG,iBAAiBF,EAAMC,GAC/Bb,KAAKG,OAAOY,KAAK,CAAEJ,QAAAA,EAASC,KAAAA,EAAMC,SAAAA,IAGpCT,kBAAkBS,GAChBb,KAAKU,iBAAiBM,SAAU,UAAWH,GAG7CP,gBAAgBO,GACdb,KAAKU,iBAAiBM,SAAU,QAASH,GAG3CI,oBAAoBJ,GAClBb,KAAKU,iBAAiBM,SAAU,YAAaH,GAG/CK,gBAAgBL,GACdb,KAAKU,iBAAiBM,SAASG,KAAM,QAASN,GAGhDO,oBAAoBP,GAClBb,KAAKU,iBAAiBM,SAASG,KAAM,YAAaN,GAGpDQ,kBAAkBR,GAChBb,KAAKU,iBAAiBM,SAASG,KAAM,UAAWN,GAWlDS,WAAWpB,GACT,YAA8BqB,IAAvBvB,KAAKC,QAAQC,GAAsB,EAAIF,KAAKC,QAAQC,GAG7DsB,qBACExB,KAAKG,OAAOsB,SAASC,IACnBA,EAAEf,QAAQgB,oBAAoBD,EAAEd,KAAMc,EAAEb,aAG1Cb,KAAKG,OAAS,GACdH,KAAKI,kBAAkBJ,KAAKK,YAC5BL,KAAKM,gBAAgBN,KAAKO,WAIvB,MAAMqB,EACC,aAACC,GACX,OAAO,IAAIhC","sources":["webpack://axolotis-player/./src/lib/modules/controller/physicPlayerControl/Input.ts"],"sourcesContent":["import Component from \"@root/lib/modules/core/ecs/Component\";\nimport { WebpackLazyModule } from \"@root/lib/modules/core/loader/WebpackLoader\";\nimport {\n  LazyServices,\n  Service,\n} from \"@root/lib/modules/core/service/LazyServices\";\n\nexport class Input implements Component {\n  private _keyMap: {};\n  private events: any[];\n  constructor() {\n    this._keyMap = {};\n    this.events = [];\n\n    this.AddKeyDownListner(this._onKeyDown);\n    this.AddKeyUpListner(this._onKeyUp);\n  }\n\n  getType(): string {\n    return Input.name;\n  }\n\n  _addEventListner(element, type, callback) {\n    element.addEventListener(type, callback);\n    this.events.push({ element, type, callback });\n  }\n\n  AddKeyDownListner(callback) {\n    this._addEventListner(document, \"keydown\", callback);\n  }\n\n  AddKeyUpListner(callback) {\n    this._addEventListner(document, \"keyup\", callback);\n  }\n\n  AddMouseMoveListner(callback) {\n    this._addEventListner(document, \"mousemove\", callback);\n  }\n\n  AddClickListner(callback) {\n    this._addEventListner(document.body, \"click\", callback);\n  }\n\n  AddMouseDownListner(callback) {\n    this._addEventListner(document.body, \"mousedown\", callback);\n  }\n\n  AddMouseUpListner(callback) {\n    this._addEventListner(document.body, \"mouseup\", callback);\n  }\n\n  _onKeyDown = (event) => {\n    this._keyMap[event.code] = 1;\n  };\n\n  _onKeyUp = (event) => {\n    this._keyMap[event.code] = 0;\n  };\n\n  GetKeyDown(code) {\n    return this._keyMap[code] === undefined ? 0 : this._keyMap[code];\n  }\n\n  ClearEventListners() {\n    this.events.forEach((e) => {\n      e.element.removeEventListener(e.type, e.callback);\n    });\n\n    this.events = [];\n    this.AddKeyDownListner(this._onKeyDown);\n    this.AddKeyUpListner(this._onKeyUp);\n  }\n}\n\nexport class Factory implements WebpackLazyModule, Service<Input> {\n  async create(services: LazyServices): Promise<Input> {\n    return new Input();\n  }\n}\n"],"names":["Input","constructor","event","this","_keyMap","code","events","AddKeyDownListner","_onKeyDown","AddKeyUpListner","_onKeyUp","getType","name","_addEventListner","element","type","callback","addEventListener","push","document","AddMouseMoveListner","AddClickListner","body","AddMouseDownListner","AddMouseUpListner","GetKeyDown","undefined","ClearEventListners","forEach","e","removeEventListener","Factory","services"],"sourceRoot":""}